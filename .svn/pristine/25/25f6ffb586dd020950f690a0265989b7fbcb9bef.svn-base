//------------------------------------------------------------------------------
// <auto-generated>
//     此代码已从模板生成。
//
//     手动更改此文件可能导致应用程序出现意外的行为。
//     如果重新生成代码，将覆盖对此文件的手动更改。
// </auto-generated>
//------------------------------------------------------------------------------

namespace tcpjw3.oa.Models
{
    using System;
    using System.Collections.Generic;
    using BATradingManagement.BLL;
    using TCPJW_BATradingSystemCITIC;

    public partial class BAT_VirtualAccount
    {
        public int YHBH { get; set; }
        public string QYMC { get; set; }
        public string LXR { get; set; }
        public string LXRDH { get; set; }
        public string XNZH { get; set; }
        public string SJR { get; set; }
        public string SJRDH { get; set; }
        public string YJDZ { get; set; }
        public string JS { get; set; }
        public Nullable<System.DateTime> SQSJ { get; set; }
        public string SHJD { get; set; }
        public Nullable<System.DateTime> SHSJ { get; set; }
        public string SHR { get; set; }
        public string BZ { get; set; }
        public string KDGS { get; set; }
        public string KDDH { get; set; }
        public string BankUp1 { get; set; }
        public string BankUp2 { get; set; }
        public string BankUp3 { get; set; }
        public string BankUp4 { get; set; }
        public string BankUp5 { get; set; }


        /// <summary>
        /// 返回企业名称
        /// </summary>
        /// <param name="Yhbh"></param>
        /// <returns></returns>
        public string  GetVirtualAccount(string Yhbh)
        {
            VirtualAccount va = new VirtualAccount(int.Parse(Yhbh));
            return va.QYMC;
        }
        /// <summary>
        /// 生成资金账户
        /// </summary>
        /// <param name="qymc"></param>
        /// <returns></returns>
        public string creater(string qymc)
        {
            string xnzh = null;
            xnzh=CITICYQZL.GetPreContract(qymc).Replace("$$$$", "|");//格式化成 xxx|xxx
            if (xnzh.Replace("$$$$", "|").Split('|')[0] == "AAAAAAA")//返回正确的虚拟账户情况
            {
                xnzh=xnzh.Replace("$$$$", "|").Split('|')[2];//截取虚拟账户部分
            }
            return xnzh;
        }
    }
   
}
